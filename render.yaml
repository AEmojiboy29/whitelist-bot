services:
  - type: web
    name: discord-bot
    runtime: python
    pythonVersion: "3.11.0"  # SPECIFICALLY USE 3.11
    region: oregon
    plan: free
    branch: main
    
    # Build Command
    buildCommand: |
      echo "ðŸš€ Starting build with Python 3.11..."
      python --version
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt --no-cache-dir
      echo "âœ… Dependencies installed successfully"
    
    # Start Command
    startCommand: |
      echo "ðŸ¤– Starting Discord Bot..."
      python bot.py
    
    # Environment Variables
    envVars:
      - key: DISCORD_TOKEN
        sync: false
    
    # Auto Deploy
    autoDeploy: true
    
    # Health Check
    healthCheckPath: /
    healthCheckTimeout: 30
